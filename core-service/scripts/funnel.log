â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ Complete Conversion Funnel Generator
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Activity ID:    1
Entry Service:  http://localhost:8081
Database:       axon@localhost:3306

Expected Funnel:
  ğŸ‘ï¸  Visitors:  100 (100%)
  ğŸ‘† Clicks:    40 (0.4% â†’ 40%)
  âœ… Approved:  12 (0.3% â†’ 12%)
  ğŸ’° Purchases: 8 (0.7% â†’ 8%)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š Step 1/3: Generating 100 PAGE_VIEW events...
.................................................. [50/100]
.................................................. [100/100]
 âœ… Done (100 visits)

ğŸ“Š Step 2/3: Generating 40 CLICK events...
........................................ âœ… Done (40 clicks)

ğŸ“Š Step 3/4: Generating 12 reservations (APPROVED events)...
âœ“âœ“âœ“âœ“âœ“âœ“âœ“âœ“âœ“âœ“âœ“âœ“
âœ… Done (12/12 reservations succeeded)
   â†’ ReservationApprovedEvent â†’ BackendEventPublisher â†’ Kafka â†’ Elasticsearch

ğŸ“Š Step 4/4: Generating 8 PURCHASE events...
........ âœ… Done (8 purchases)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Conversion Funnel Generated Successfully!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š Generated Data:
  ğŸ‘ï¸  PAGE_VIEW:  100 events â†’ Elasticsearch
  ğŸ‘† CLICK:      40 events â†’ Elasticsearch
  âœ… APPROVED:   12 reservations â†’ Elasticsearch (via entry-service)
  ğŸ’° PURCHASE:   8 events â†’ Elasticsearch

ğŸ” Verification Commands:

  # Elasticsearch events by type (should show all 4 types)
  curl -s 'http://localhost:9200/behavior-events/_search' -H 'Content-Type: application/json' -d '{"size":0,"query":{"term":{"properties.activityId":1}},"aggs":{"by_type":{"terms":{"field":"triggerType.keyword"}}}}' | jq '.aggregations.by_type.buckets'

  # Dashboard API (should show complete funnel)
  curl 'http://localhost:8080/api/v1/dashboard/activity/1?period=7d' | jq '.funnel'

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š View Dashboard (updates every 5 seconds):
   http://localhost:8080/admin/dashboard/1

ğŸ§¹ Clean up test data:
   ./cleanup-test-data.sh 1
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
